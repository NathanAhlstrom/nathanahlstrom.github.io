---
layout: post
title: Could not resolve hostname...
date: 2013-08-14 12:48:33.000000000 -05:00
type: post
published: true
status: publish
categories:
- Web Development
tags:
- centos
- DNS
- linux
- networking
meta:
  _edit_last: '51126004'
  geo_public: '0'
  _publicize_pending: '1'
  tagazine-media: a:7:{s:7:"primary";s:0:"";s:6:"images";a:0:{}s:6:"videos";a:0:{}s:11:"image_count";i:0;s:6:"author";s:8:"51126004";s:7:"blog_id";s:8:"56401268";s:9:"mod_stamp";s:19:"2013-08-14
    18:06:05";}
author: Nathan Ahlstrom
---
<!--more-->

<p>On my development virtual machine running CentOS 6.4 I experience this frequent annoyance:</p>
<pre>$ ssh stgsrv1
ssh: Could not resolve hostname stgsrv1: Name or service not known</pre>
<p>Instead I would have to type out the fully qualified name: stgsrv1.corp.example.com.  Turns out there is a fairly easy fix.</p>
<p>The /etc/resolv.conf file is missing the corp.example.com domain in the search line. Here is what resolv.conf looks like by default:</p>
<pre>$ cat /etc/resolv.conf
# Generated by NetworkManager
domain ad.example.com
search ad.example.com
nameserver 10.0.0.1
nameserver 10.0.0.2</pre>
<p>Based on this answer on superuser.com: <a href="http://superuser.com/questions/110808/how-can-i-add-additional-search-domains-to-the-resolv-conf-created-by-dhclient-i">http://superuser.com/questions/110808/how-can-i-add-additional-search-domains-to-the-resolv-conf-created-by-dhclient-i</a></p>
<p>As the root user, I updated /etc/dhcp/dhclient-eth0.conf file to look like so:</p>
<pre>send vendor-class-identifier "anaconda-Linux 2.6.32-358.el6.i686 i686";
timeout 45;
prepend domain-search "corp.example.com";</pre>
<p>Running a quick "ifdown eth0" and "ifup eth0" as root produced this in the /etc/resolv.conf:</p>
<pre>$ cat /etc/resolv.conf
# Generated by NetworkManager
domain ad.example.com
search ad.example.com <strong>corp.example.com.</strong>
nameserver 10.0.0.1
nameserver 10.0.0.2</pre>
<p>Now my original annoyance is gone:</p>
<pre>$ ssh stgsrv1
The authenticity of host 'stgsrv1' can't be established.
RSA key fingerprint is aa:bb:ff:00:ff:ff:ff:00:bb:00:ff:cc:ff:ff:ff:dd.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'stgsvr1' (RSA) to the list of known hosts.
user@stgsrv1's password:
[stgsrv1 ~]$</pre>
<p>How have you updated your development environment to be easier to use?  Talk about it below.</p>
